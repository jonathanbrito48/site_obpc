{% load static %}
<header class="menu">
    <nav class="cabecalho">
        <a class="logo_a" href="{% url 'index' %}"><img class="foto" src="{% static 'assets/logo_obpc2.png' %}" alt="logo_obpc"></a>
        <div class="menu_options_items">    
            <div class="cabecalho2">
                <a href="{% url 'index' %}" class="cabecalho">INÍCIO</a>
            </div>
            <div class="dropdown" role="listbox" aria-haspopup="listbox">
                <div class="dropdown-select" role="button" aria-expanded="false" aria-controls="dropdown-options">
                    IGREJA
                </div>
                <ul id="dropdown-options" class="dropdown-options" role="list" aria-labelledby="dropdown-select">
                    <li class="dropdown-option" role="option" tabindex="0"><a href="{% url 'quemsomos' %}">Quem Somos</a></li>
                    <li class="dropdown-option" role="option" tabindex="0"><a href="{% url 'pastores' %}">Pastores</a></li>
                    <li class="dropdown-option" role="option" tabindex="0"><a href="#opcao4">Cultos</a></li>
                    <li class="dropdown-option" role="option" tabindex="0"><a href="{% url 'eventos' %}">Eventos</a></li>
                    <li class="dropdown-option" role="option" tabindex="0"><a href="{% url 'devocionais' %}">Devocionais</a></li>
                </ul>
            </div>

            <div class="dropdown" role="listbox" aria-haspopup="listbox">
                <div class="dropdown-select" role="button" aria-expanded="false" aria-controls="dropdown-options2">
                    MINISTÉRIOS
                </div>
                <ul id="dropdown-options2" class="dropdown-options" role="list" aria-labelledby="dropdown-select">
                    {% for ministerio in ministerios %}
                    <li class="dropdown-option" role="option" tabindex="0">
                        <a href="{% url 'ministerio' ministerio.nome_ministerio %}">
                            {{ ministerio.nome_ministerio }}
                        </a>
                    </li>
                    {% endfor %}
                </ul>
                
            </div>

            <div class="dropdown" role="listbox" aria-haspopup="listbox">
                <div class="dropdown-select" role="button" aria-expanded="false" aria-controls="dropdown-options2">
                    CURSOS
                </div>
                <ul id="dropdown-options2" class="dropdown-options" role="list" aria-labelledby="dropdown-select">
                    {% for curso in cursos_menu %}
                        <li class="dropdown-option" role="option" tabindex="0"><a href="{% url 'cursos' curso.id %}">{{curso.nome_curso_abreviado}}</a></li>
                    {% endfor %}
                </ul>
            </div>
            
            <div class="dropdown" role="listbox" aria-haspopup="listbox">
                <div class="dropdown-select" role="button" aria-expanded="false" aria-controls="dropdown-options2">
                    CONGREGAÇÕES
                </div>
                <ul id="dropdown-options2" class="dropdown-options" role="list" aria-labelledby="dropdown-select">
                    {% for cong in congregacoes %}
                        <li class="dropdown-option" role="option" tabindex="0"><a href="{% url 'congregacoes' cong.id %}">{{cong.nome_congregacao}}</a></li>
                    {% endfor %}
                </ul>
            </div>
            <div class="cabecalho2">
                <a href="{% url 'contribuicoes' %}" class="cabecalho">CONTRIBUIÇÕES</a>
            </div>
            <div class="cabecalho2">
                <a href="{% url 'servicos' %}" class="cabecalho">SERVIÇOS</a>
            </div>
            <div class="cabecalho2">
                <a href="" class="cabecalho">CONTATO</a>
            </div>
        </div>    
    </nav>
    
</header>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const dropdowns = document.querySelectorAll('.dropdown');

        dropdowns.forEach(function (dropdown) {
            const dropdownSelect = dropdown.querySelector('.dropdown-select');
            const dropdownOptions = dropdown.querySelector('.dropdown-options');

            dropdown.addEventListener('mouseenter', function () {
                dropdownOptions.classList.add('visible');
                const expanded = dropdownOptions.classList.contains('visible');
                dropdownSelect.setAttribute('aria-expanded', expanded.toString());
            });

            dropdown.addEventListener('mouseleave', function () {
                dropdownOptions.classList.remove('visible');
                dropdownSelect.setAttribute('aria-expanded', 'false');
            });

            const dropdownOptionItems = dropdown.querySelectorAll('.dropdown-option');

            dropdownOptionItems.forEach(function (option) {
                option.addEventListener('click', function () {
                    dropdownOptions.classList.remove('visible');
                    dropdownSelect.setAttribute('aria-expanded', 'false');
                });
            });
        });

        // Adicione mais lógica aqui, se necessário
    });
</script>